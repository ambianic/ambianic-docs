<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Notifications - Ambianic Documentation</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/flowchart.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <!-- flowchart js -->
        <script src="../../js/raphael.min.js"></script>
        <script src="../../js/flowchart.js"></script>
        <script src="../../js/jquery-plugin.js"></script>
        <!-- end flowchart js -->
        <!-- mermaid js -->
        <script src="https://unpkg.com/mermaid@8.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
        <!-- end mermaid js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <a class="navbar-brand" href="../..">Ambianic Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../quickstart/" class="dropdown-item">Quick Start</a>
</li>
                                    
<li>
    <a href="../ambianicui/" class="dropdown-item">Ambianic UI</a>
</li>
                                    
<li>
    <a href="../ambianicbox/" class="dropdown-item">Ambianic Box</a>
</li>
                                    
<li>
    <a href="../ambianicedge/" class="dropdown-item">Ambianic Edge</a>
</li>
                                    
<li>
    <a href="../ambianicos/" class="dropdown-item">Ambianic OS</a>
</li>
                                    
<li>
    <a href="../devicemanagement/" class="dropdown-item">Managing Devices</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Notifications</a>
</li>
                                    
<li>
    <a href="../configure/" class="dropdown-item">Advanced Configuration</a>
</li>
                                    
<li>
    <a href="../hass-integration/" class="dropdown-item">Home Assistant Integration</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Developer Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../developers/architecture/" class="dropdown-item">High Level System Architecture</a>
</li>
                                    
<li>
    <a href="../../developers/development-environment/" class="dropdown-item">Development Environment Setup</a>
</li>
                                    
<li>
    <a href="../../developers/e2e-manual-testing/" class="dropdown-item">End to End System Testing in Dev Mode</a>
</li>
                                    
<li>
    <a href="../../legal/CONTRIBUTING/" class="dropdown-item">Contribution Guidelines</a>
</li>
                                    
<li>
    <a href="https://github.com/ambianic/ambianic-ui" class="dropdown-item">Ambianic UI PWA</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Ambianic Edge device</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="https://github.com/ambianic/ambianic-edge" class="dropdown-item">Core Git Repo</a>
</li>
            
<li>
    <a href="https://ambianic.github.io/ambianic-edge/pythonapi/ambianic/" class="dropdown-item">Python API</a>
</li>
            
<li>
    <a href="https://ambianic.github.io/ambianic-edge/openapi/ambianic-edge-openapi.html" class="dropdown-item">OpenAPI(REST)</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/fall-detection" class="dropdown-item">Fall Detection Model</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/ambianic-quickstart" class="dropdown-item">Command Line Interface</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/ambianic-rpi-image" class="dropdown-item">Operating System</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/ambianic-box" class="dropdown-item">3D Printable Model</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Peer to Peer Communication</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="https://webrtchacks.com/private-home-surveillance-with-the-webrtc-datachannel/" class="dropdown-item">p2p architecture</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/peerjs-python" class="dropdown-item">peerjs-python git repo</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/ambianic-pnp" class="dropdown-item">ambianic-pnp git repo</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../devicemanagement/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../configure/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/ambianic/ambianic-docs/edit/master/docs-md/users/notifications.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column bs-sidenav">
            <li class="nav-item main"><a href="#ambianic-notifications">Ambianic Notifications</a></li>
                <li class="nav-item">
                    <a href="#get-an-ifttt-webhook-api-key" class="nav-link">Get an IFTTT Webhook API KEY</a>
                </li>
                <li class="nav-item">
                    <a href="#test-ifttt-integration" class="nav-link">Test IFTTT integration</a>
                </li>
                <li class="nav-item">
                    <a href="#compose-notification-automations" class="nav-link">Compose Notification Automations</a>
                </li>
                <li class="nav-item">
                    <a href="#mobile-push-notifications" class="nav-link">Mobile Push Notifications</a>
                </li>
                <li class="nav-item">
                    <a href="#email-notifications" class="nav-link">Email Notifications</a>
                </li>
                <li class="nav-item">
                    <a href="#sms-notifications" class="nav-link">SMS Notifications</a>
                </li>
                <li class="nav-item">
                    <a href="#troubleshooting" class="nav-link">Troubleshooting</a>
                </li>
                <li class="nav-item">
                    <a href="#advanced-notification-settings" class="nav-link">Advanced Notification Settings</a>
                </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="ambianic-notifications">Ambianic Notifications</h1>
<p>Each Ambianic Edge device can be configured to independently send instant notifications.</p>
<p>The simplest way to configure an Ambianic Edge device to send FREE notifications is via the Ambianic UI PWA and IFTTT. Follow the instructions below to setup and test your first notification message via IFTTT integration.</p>
<h2 id="get-an-ifttt-webhook-api-key">Get an IFTTT Webhook API KEY</h2>
<p><a href="https://ifttt.com">IFTTT</a> is a popular notification hub that provides a convenient way to create automation workflows for SMS, Email, 
Mobile Push Notifications, Amazon Alexa, Google Home and thousands of other IoT, Home Automation and Web services.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144923949-7c5e3f97-fa13-404a-86d1-ac75c828daca.png" width="400"/></p>
<p>First, create an account with IFTTT and navigate to the Webhooks app settings. Find your Webhooks API Key in the plugin Documentation. The IFTTT Webhook callback URL looks like this:
<code>https://maker.ifttt.com/use/hdKFgtWRJqZDNFbDjudl92RK3LfDzd1tOZO9KRA15kJ</code></p>
<p>The Webhooks API Key is just that last cryptic looking part: <code>hdKFgtWRJqZDNFbDjudl92RK3LfDzd1tOZO9KRA15kJ</code></p>
<p>Copy this key and go to your <a href="https://ui.ambianic.ai/">Ambianic UI</a> app.</p>
<h2 id="test-ifttt-integration">Test IFTTT integration</h2>
<p>Connect to the Ambianic Edge device you would like to configure to send notifications. 
Then go to: <em>Settings &gt; Device Card &gt; Notifications</em>.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144924453-c149b68a-66d1-4056-98f6-44e2ca067c81.png" width="400"/></p>
<p><img src="https://user-images.githubusercontent.com/2234901/144924492-e4e795a4-de0c-4e71-9041-0c76e5eda5b6.png" width="400"/></p>
<p>Paste your key in the <em>IFTTT Webhooks API Key</em> input field and submit the change.</p>
<p>Make sure to turn on the <em>Notifications On/Off</em> switch. It should read <em>Notifications On</em>.</p>
<p>Next, click on the <em>Test</em> . If all is well, you should see a check mark indicating Success for a brief moment.</p>
<p>Now go to your IFTTT dashboard and navigate to the <a href="https://ifttt.com/activity/service/maker_webhooks">Webhooks Activity Log</a>. You should see your test notification appear in the log.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144924764-aa4418aa-4d01-498a-b3f7-41e5b5b756f2.png" width="400"/></p>
<p>Notice that notifications sent by Ambianic Edge devices are marketd with the <code>ambianic</code> event tag. 
This allows you to filter and route Ambianic notifications separately from other sources of IFTTT Webhook notifications.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144926108-4f34dc8a-fe0c-415d-bd83-fbcd4be87f59.png" width="400"/></p>
<h2 id="compose-notification-automations">Compose Notification Automations</h2>
<p>You are now ready to create an IFTTT applet that receives <code>ambianic</code> events and forwards to your favorite notification channels or automation triggers.
See the <a href="https://help.ifttt.com/hc/en-us/articles/115010230347-Webhooks-service-FAQ">IFTTT Webhooks FAQ</a> for detailed instructions.</p>
<p>If you experience any problems during this process, you can look for help in the 
<a href="https://github.com/ambianic/ambianic-ui/discussions">Ambianic Community Discussions</a> or the <a href="https://ambianicai.slack.com/join/shared_invite/zt-eosk4tv5-~GR3Sm7ccGbv1R7IEpk7OQ#/">Public Slack Channel</a>.</p>
<h2 id="mobile-push-notifications">Mobile Push Notifications</h2>
<p>IFTTT allows FREE mobile push notifications via Webhooks. 
To receive rich push notifications on your mobile device, first <a href="https://ifttt.com/home">download the free IFTTT app</a> from your respective mobile app store. </p>
<p>Next, create a new Applet triggered by the Webhooks plugin that sends a rich notification to your IFTTT app. It should look similar to the following screenshots:</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144926035-7ad46211-8e07-4d62-8c72-5b3e22a32b5f.png" width="400"/></p>
<p><img src="https://user-images.githubusercontent.com/2234901/144926069-103cd17e-757d-4f64-bde8-b6ee2a2c2f99.png" width="400"/></p>
<p><img src="https://user-images.githubusercontent.com/2234901/144969204-bf9061f7-85a0-4191-b287-84fb4745f1e8.png" width="400"/></p>
<p>Now you can go to your Ambianic UI app and send another Test notification. Within a few moments you will see an IFTTT alert on your mobile device.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144929539-ca7d4395-2b5a-4eec-8c1a-b3d7cf460ebf.png" width="400"/></p>
<p>To test that it works end to end, walk in front of your Ambianic smart camera device to trigger a person detection. You will see a notification on your mobile device like the one below.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144969433-1300560a-4abf-4222-8c01-030188c0440f.png" width="400"/></p>
<p>When you click on a notification, it will open a browser window that will load and display all the event details as they would normally appear on your device timeline.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144929874-f6406c9e-80ff-4f45-af6c-4723756667e1.png" width="400"/></p>
<p><img src="https://user-images.githubusercontent.com/2234901/144930022-9211115b-66e6-453f-8321-e548f13939fa.png" width="400"/></p>
<h2 id="email-notifications">Email Notifications</h2>
<p>Setting up Email notifications is similar to setting up Mobile Push Notifications. You will still use the Webhook plugin as a trigger. For delivery you can select from several options. IFTTT provides a basic Email Action as well as a more flexible GMail Action. The flow with GMail looks as follows:</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144933066-49a3423f-0a52-4c47-be39-0c83d7936d53.png" width="400"/></p>
<p><img src="https://user-images.githubusercontent.com/2234901/144933082-8d88d37f-d170-4b7f-bb64-a11debde1884.png" width="400"/></p>
<p><img src="https://user-images.githubusercontent.com/2234901/144933700-bab5ccc7-474b-416c-84e3-bac1f8e0eb56.png" width="400"/></p>
<p>When an event is triggered for this flow, the result looks like this:</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144933861-d9d7af55-92ce-4b06-86fc-6af442d33a49.png" width="400"/></p>
<p>Clicking on the URL has the same effect as opening a mobile push notification as explained in the previous section.</p>
<h2 id="sms-notifications">SMS Notifications</h2>
<p>Setting up Email notifications is similar to setting up Mobile Push Notifications and Email Notifications. You will still use the Webhook plugin as a trigger. For delivery you can select from several SMS provider options. Following is the flow via the ClickSend SMS Action.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144935267-0326a2f3-13fe-4e6b-b433-85b1d71a9571.png" width="400"/></p>
<p><img src="https://user-images.githubusercontent.com/2234901/144935290-52533ba3-26a8-4244-a123-d11a7ab4b1e9.png" width="400"/></p>
<p>When a notification is triggered, you can check the ClickSend dashboard to confirm. </p>
<p><img src="https://user-images.githubusercontent.com/2234901/144935503-659ce1bb-3b42-4788-b677-97cc87ffa47e.png" width="400"/></p>
<p>The resulting SMS on your mobile phone would look like the example below:</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144969523-bf9e1462-1098-4f1b-8644-78fc6050b468.png" width="400"/></p>
<p><em>Note</em>: Sometimes telecom providers (MNOs) delay SMS messages sent via apps up to a few minutes and in some cases hours. Occasionally telecoms choose to drop messages sesnt via apps if they consider them spam. Unfortunately there is no Spam folder that you can check for dropped SMS messages. Your best bet is to try again, talk to ClickSend Support or use an alternative SMS app.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>Keep in mind that the URL of the event contains an encrypted version of the device Peer ID to protect your privacy. Only browsers that have previous knowledge of your device will be able to open the event. In other words if you have used the Ambianic PWA in the browser before and added the device there, the browser will be able to decrypt the event notification URL and fetch all details from the device.</p>
<p>However if you use a different browser to open notifications, or if the URL accidentally ended up in the hands of an unintended user, the PWA will display an error message.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144930563-b2965755-1e9b-4cfb-87b0-b771dd02338a.png" width="400"/></p>
<p>When that happens, you can verify that you are in the browser used to add the devices, by navigating to <em>Settings &lt; My Devices</em> You will likely see an emty list.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144931841-8a51a19d-73e0-43e8-bfa8-98bf50390a80.png" width="400"/></p>
<p>You can either add the device to this browser or alternatively copy and paste the notification URL to the browser which you normally use for the Ambianic PWA and already has the alerting Ambianic Edge device saved.</p>
<p><img src="https://user-images.githubusercontent.com/2234901/144932094-52d72fee-e139-40c0-86ba-7d7cf6794650.png" width="400"/></p>
<h2 id="advanced-notification-settings">Advanced Notification Settings</h2>
<p>Ambianic Edge devices can be also configured to send notifications via <a href="https://github.com/caronc/apprise/wiki">many other services</a>. 
See the <a href="../configure/#notification-settings">Advanced Notifications section</a> of the Ambianic Edge configuration guide for more details.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Ambianic.ai &copy; 2019-2021</p>
            <p>Last update : 2021-12-14 20:23:37.569777+00:00</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
