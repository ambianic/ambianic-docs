<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Ambianic OS - Ambianic Documentation</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../css/flowchart.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <!-- flowchart js -->
        <script src="../../js/raphael.min.js"></script>
        <script src="../../js/flowchart.js"></script>
        <script src="../../js/jquery-plugin.js"></script>
        <!-- end flowchart js -->
        <!-- mermaid js -->
        <script src="https://unpkg.com/mermaid@8.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
        <!-- end mermaid js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <a class="navbar-brand" href="../..">Ambianic Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../quickstart/" class="dropdown-item">Quick Start</a>
</li>
                                    
<li>
    <a href="../ambianicui/" class="dropdown-item">Ambianic UI</a>
</li>
                                    
<li>
    <a href="../ambianicbox/" class="dropdown-item">Ambianic Box</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Ambianic OS</a>
</li>
                                    
<li>
    <a href="../ambianicedge/" class="dropdown-item">Ambianic Edge</a>
</li>
                                    
<li>
    <a href="../configure/" class="dropdown-item">Configuration</a>
</li>
                                    
<li>
    <a href="../edge-pairing/" class="dropdown-item">Local and Remote pairing</a>
</li>
                                    
<li>
    <a href="../hass-integration/" class="dropdown-item">Home Assistant Integration</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Developer Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../developers/architecture/" class="dropdown-item">High Level System Architecture</a>
</li>
                                    
<li>
    <a href="../../developers/development-environment/" class="dropdown-item">Development Environment Setup</a>
</li>
                                    
<li>
    <a href="../../developers/e2e-manual-testing/" class="dropdown-item">End to End System Testing in Dev Mode</a>
</li>
                                    
<li>
    <a href="../../legal/CONTRIBUTING/" class="dropdown-item">Contribution Guidelines</a>
</li>
                                    
<li>
    <a href="https://github.com/ambianic/ambianic-ui" class="dropdown-item">Ambianic UI PWA</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Ambianic Edge device</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="https://github.com/ambianic/ambianic-edge" class="dropdown-item">Core Git Repo</a>
</li>
            
<li>
    <a href="https://ambianic.github.io/ambianic-edge/pythonapi/ambianic/" class="dropdown-item">Python API</a>
</li>
            
<li>
    <a href="https://ambianic.github.io/ambianic-edge/openapi/ambianic-edge-openapi.html" class="dropdown-item">OpenAPI(REST)</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/fall-detection" class="dropdown-item">Fall Detection Model</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/ambianic-quickstart" class="dropdown-item">Command Line Interface</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/ambianic-rpi-image" class="dropdown-item">Operating System</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/ambianic-box" class="dropdown-item">3D Printable Model</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Peer to Peer Communication</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="https://webrtchacks.com/private-home-surveillance-with-the-webrtc-datachannel/" class="dropdown-item">p2p architecture</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/peerjs-python" class="dropdown-item">peerjs-python git repo</a>
</li>
            
<li>
    <a href="https://github.com/ambianic/ambianic-pnp" class="dropdown-item">ambianic-pnp git repo</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../ambianicbox/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../ambianicedge/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/ambianic/ambianic-docs/edit/master/docs-md/users/ambianicos.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column bs-sidenav">
            <li class="nav-item main"><a href="#ambianic-os">Ambianic OS</a></li>
                <li class="nav-item">
                    <a href="#flash-to-sd-card" class="nav-link">Flash to SD Card</a>
                </li>
                <li class="nav-item">
                    <a href="#first-boot-network-setup" class="nav-link">First Boot / Network Setup</a>
                </li>
            <li class="nav-item main"><a href="#project-status-and-stats">Project Status and Stats</a></li>
            <li class="nav-item main"><a href="#other-notes">Other notes</a></li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="ambianic-os">Ambianic OS <a href="https://github.com/ambianic/ambianic-rpi-image"><img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/ambianic/ambianic-rpi-image?style=social" /></a></h1>
<p><a href="https://join.slack.com/t/ambianicai/shared_invite/zt-eosk4tv5-~GR3Sm7ccGbv1R7IEpk7OQ"><img alt="Join the Slack chat room" src="https://img.shields.io/badge/Slack-Join%20the%20chat%20room-blue" /></a></p>
<p>Ambianic OS provides a convenient binary image for Raspberry Pi 4B with <a href="https://github.com/ambianic/ambianic-edge">Ambianic Edge</a> pre-installed. 
The released image files are ready to be flashed on to an SD card and plugged into an rpi. 
When the raspberry pi boots for the first time with the new image on its SD Card, it runs a WiFi captive portal that allows the user to connect to it and setup WiFi access for the rpi. 
Once the rpi connects to the internet it is ready to be accessed and managed by the Ambianic UI PWA.</p>
<ul>
<li>Tested on Raspberry Pi 4 B</li>
<li>Built on Raspberry Pi OS Lite via <a href="https://github.com/RPi-Distro/pi-gen">pi-gen</a>. </li>
<li>Simple WiFi Setup via <a href="https://github.com/balena-io/wifi-connect">Balena Wifi Connect</a></li>
<li>Visual configuration and management via <a href="https://github.com/ambianic/ambianic-ui">Ambianic UI</a></li>
<li>Recommended enclosure: <a href="https://github.com/ambianic/ambianic-box">Ambianic Box</a></li>
</ul>
<p>This image automatically and continuously updates to the latest version of Ambianic Edge using <a href="https://github.com/containrrr/watchtower">docker watchtower</a>.</p>
<p>Following are instructions how to install Ambianic OS on your Ambianic Box or another Raspberry Pi device.</p>
<h2 id="flash-to-sd-card">Flash to SD Card</h2>
<p>The easiest way to flash the <em>Ambianic Edge Raspberry Pi Image</em> to your SD card is to use <a href="https://www.balena.io/etcher/">Etcher</a>.</p>
<p align="center">
    <img src="https://user-images.githubusercontent.com/3979615/74733445-789cac00-52a0-11ea-9167-05b42d6383ad.gif" width="600">
</p>

<ol>
<li>Download and install the latest version of <a href="https://www.balena.io/etcher/">Etcher</a>.</li>
<li>Open Etcher and select <em>Flash from URL</em> then point to the <a href="https://github.com/ambianic/ambianic-rpi-image/releases/latest/download/image_ambianic_edge-rpi.zip">latest Ambianic Edge Raspberry Pi image</a>. There is no need to download the image first.</li>
<li>Choose the drive your SD card has been inserted into.</li>
<li>Click Flash.</li>
</ol>
<h2 id="first-boot-network-setup">First Boot / Network Setup</h2>
<p>Now that you have flashed your SD card, you can insert it into your Raspberry Pi.</p>
<h3 id="wifi-setup">WiFi Setup</h3>
<p><img alt="wifi-connect-setup" src="https://user-images.githubusercontent.com/3979615/75397237-7e525b80-594a-11ea-9be0-4f064b6a4178.png" /></p>
<p>Follow these steps to connect your device to WiFi:</p>
<ol>
<li>Power on your device without an Ethernet cable attached.</li>
<li>Wait 1-2 minutes</li>
<li>Use your mobile phone to scan for new WiFi networks</li>
<li>Connect to the hotspot named <strong>Ambianic Edge WiFi Setup</strong>. </li>
<li>Wait a few moments until the captive portal opens, this portal will allow you to connect the Raspberry Pi to your local WiFi network.</li>
</ol>
<p>If you enter your WiFi credentials incorrectly the <strong>Ambianic Edge WiFi Setup</strong> hotspot will reappear allowing you to try again.</p>
<p>You should see screens similar to the ones below.</p>
<p align="left">
    <img src="https://user-images.githubusercontent.com/2234901/99506621-f1bc5300-2947-11eb-89eb-952e8e582d3a.png" height="400">
    <img src="https://user-images.githubusercontent.com/2234901/99506633-f41ead00-2947-11eb-9bba-a61f2b2724cf.png" height="400">
</p>

<h3 id="ambianic-ui-connection">Ambianic UI connection</h3>
<p>Once the WiFi connection is established, the Raspberry Pi will pull the latest Ambianic Edge binaries. This may take 5-10 minutes based on your internet connection speed. By default the device is configured to use a Raspberry Pi Camera as input source and report person detection events.</p>
<p>After the update process is completed, you can proceed to pair the edge device with your <a href="https://ui.ambianic.ai">Ambianic UI</a> app. The detailed steps to pair Ambianic UI to Ambianic Edge are <a href="https://docs.ambianic.ai/users/quickstart/#pairing-ambanic-ui-with-ambianic-edge">described here</a>.</p>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>Raspberry Pi is a DYI platform and it requires some technical skills to operate properly. If you don't have any prior experience with Raspberry Pi and picam, you should take some time to learn the basics.</p>
<h4 id="power-supply">Power Supply</h4>
<p>Raspberry Pi 4 requires a specific 5V 3A power supply, which is different from previous versions of the pi. If you use the wrong type, you may hurt your pi device.</p>
<h4 id="picam">Picam</h4>
<p>If your picamera is not properly connected to the Raspberry Pi you will have trouble using it with Ambianic. <a href="https://projects.raspberrypi.org/en/projects/getting-started-with-picamera">Here is a great introductory tutorial on connecting and testing picam</a>.</p>
<h3 id="developing-and-debugging">Developing and Debugging</h3>
<p>If you are looking to develop and debug Ambianic Edge code on Raspberry Pi, you can login to the newly booted device from this image via ssh. On your WiFi network, the device will show up with a host name of ambianic-edge. On most networks you should be able to</p>
<p><code>ping ambianic-edge.lan</code></p>
<p>If you have multiple Ambianic Edge devices running on the same local network, you should use their unique IP address to connect to each. After you login via ssh, you can change the host names to something unique: ambianic-edge1, ambianic-edge2, etc.</p>
<p>You can login to a device via ssh with the <code>ambianic-edge</code> user name and an <em>initial and temporary</em> password <code>ChangeMeOnFirstLogin</code>.</p>
<p><code>ssh ambianic-edge@ambianic-edge.lan</code></p>
<p>Notice that you will use <code>ambianic-edge</code> as an user name instead of <code>pi</code>.</p>
<p>You will find Ambianic Edge binaries and data files under <code>/opt/ambianic</code> and config files under <code>/etc/ambianic</code>.</p>
<h1 id="project-status-and-stats">Project Status and Stats</h1>
<p><img alt="CI build" src="https://github.com/ambianic/ambianic-rpi-image/workflows/CI%20build/badge.svg?branch=main" />
<a href="https://github.com/ambianic/ambianic-rpi-image/releases/latest"><img alt="GitHub release (latest by date)" src="https://badgen.net/github/release/ambianic/ambianic-rpi-image?label=Version" /></a></p>
<h1 id="other-notes">Other notes</h1>
<p>The awesome <a href="https://github.com/homebridge/homebridge-raspbian-image">Homebridge</a> project provided inspiration and reference code for the method chosen to build the Ambianic Edge Raspberry Pi image.</p>
<p>A new Ambianic Edge rpi image is released about once a year to keep up with underlying OS file dependencies. </p>
<p>The Ambianic Edge rpi image <strong>is not</strong> updated each time a new version of the Ambianic Edge software is released. Instead the rpi image uses docker to run the ambianic-edge application software and it automatically updates the docker images using docker watchtower when they are released. This greatly reduces the need for manual maintenance of Ambianic Edge devices.</p>
<p>The targeted lifespan of an Ambianic Edge image is 4-5 years. Once an Ambianic Edge device is up and running, it should not require manual intervention for software updates throughout its target lifespan of 4-5 years. </p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Ambianic.ai &copy; 2019-2021</p>
            <p>Last update : 2021-10-25 17:34:45.220185+00:00</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
